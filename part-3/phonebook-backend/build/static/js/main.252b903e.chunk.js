(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(2),r=n(14),a=n.n(r),i=n(4),u=function(e){var t=e.filter,n=e.contacts,o=e.deleteContact;return Object(c.jsx)("div",{children:n.filter((function(e){var n;return null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(c.jsxs)("li",{children:[e.name,", ",e.phoneNumber,Object(c.jsx)("button",{value:e.id,onClick:function(t){return o(t,e.id)},children:"Delete"})]},e.id)}))})},l=function(e){var t=e.text,n=e.filter,o=e.onChanges;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{children:[Object(c.jsx)("div",{children:t}),Object(c.jsx)("input",{value:n,onChange:o})]})})},s=function(e){var t=e.addContact,n=e.newName,o=e.newNumber,r=e.handleContactChange,a=e.handlePhoneChange;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{onSubmit:t,children:[Object(c.jsxs)("div",{children:["Name:",Object(c.jsx)("input",{value:n,onChange:r})]}),Object(c.jsxs)("div",{children:["Phone number:",Object(c.jsx)("input",{value:o,onChange:a})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})})},d=n(3),h=n.n(d),j="/api/persons",b=function(){return h.a.get(j)},f=function(e){return h.a.post(j,e)},m=function(e){return h.a.delete("".concat(j,"/").concat(e))},O=function(e){var t=Object(o.useState)([]),n=Object(i.a)(t,2),r=n[0],a=n[1],d=Object(o.useState)("a new name"),h=Object(i.a)(d,2),j=h[0],O=h[1],g=Object(o.useState)("a new phone number"),p=Object(i.a)(g,2),x=p[0],v=p[1],C=Object(o.useState)(""),w=Object(i.a)(C,2),N=w[0],S=w[1],k=function(){console.log("effect"),b().then((function(e){console.log("promise fulfilled",e.data),a(e.data)}))};Object(o.useEffect)(k,[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Filter"}),Object(c.jsx)(l,{text:"Search for contact: ",filter:N,onChanges:function(e){return S(e.target.value)}}),Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(s,{addContact:function(e){e.preventDefault(),console.log("button clicked",e.target);var t={id:Math.floor(Math.random()),name:j,phoneNumber:x};f(t).then((function(e){console.log("POST Promise fulfilled",e.data),a(r.concat(e.data))})).catch((function(e){return console.log("Error",e.response.data),window.alert("Error: ".concat(e.message))})),O(""),v("")},newName:j,newNumber:x,handleContactChange:function(e){return O(e.target.value)},handlePhoneChange:function(e){return v(e.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)("ul",{children:Object(c.jsx)(u,{filter:N,contacts:r,deleteContact:function(e,t){e.preventDefault(),console.log("button clicked",e.target),window.confirm("Are you sure you want to delete the contact?")&&m(t).then((function(e){console.log("DELETE promise fulfilled",e.data),k()}))}})})]})};a.a.render(Object(c.jsx)(O,{contacts:[{id:1,name:"Gerhard Molin",phoneNumber:"+358 45 220 3414"},{id:2,name:"Eric Schmidt",phoneNumber:"+1 45 220 3414"},{id:3,name:"Lerry Page",phoneNumber:"+1 46 221 3414"},{id:4,name:"Steve Jobs",phoneNumber:"+1 42 100 3214"}]}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.252b903e.chunk.js.map